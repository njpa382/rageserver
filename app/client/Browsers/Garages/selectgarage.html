<html>
<meta charset="utf-8">
<link rel="stylesheet" href="../bootstrap.min.css">
<link rel="stylesheet" href="../all.min.css">
<link rel="stylesheet" href="garages.css">
<script src="../jquery-3.4.1.min.js"></script>
<script src="../bootstrap.bundle.min.js"></script>
<script src="../vue.js"></script>

<body>
  <div id="app">
    <div class="b3-close" @click="exit">X</div>

    <div class="container bg-white rounded-lg">
      <h1><b><i class="fas fa-warehouse"></i> {{ garage.name }}</b></h1>
      <p class="float-right"><b>Cantidad vehiculos: {{ allVehicles.length }}</b></p>
      <div class="clearfix"></div>
      <table class="table table-hover mt-4">
        <tbody>
          <tr v-for="(vehicle, index) in allVehicles">
            <th scope="row">{{index + 1}}</th>
            <td class="text-capitalize">{{vehicle.model}}</td>
            <td class="text-capitalize">{{vehicle.title}}</td>
            <td class="text-capitalize">{{vehicle.numberPlate}} <i class="fas fa-id-card-alt"></i></td>
            <td class="text-capitalize">{{vehicle.fuel}}<i class="fas fa-gas-pump"></i></td>
            <td><a class="btn btn-success float-right text-white"><i class="fas fa-car"></i> <i class="fas fa-angle-right"></i></a></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</body>

</html>


<script>
  const app = new Vue({
    el: '#app',
    data: {
      garage: {},
      allVehicles: {},
    },
    methods: {
      buyGarage: function () {
        this.exit();
        mp.trigger("cMisc-CallServerEvent", "sGarageSingleton-BuyGarage");
      },
      exit: function () {
        mp.trigger("cCloseCef");
      },
      loadGarage: function (str) {
        this.garage = JSON.parse(str);
      },
      loadVehicles: function (str) {
        this.allVehicles = JSON.parse(str);
      },
    }
  });


</script>